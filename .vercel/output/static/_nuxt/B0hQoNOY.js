import{y as E,k as T,c as o,o as a,h as m,a as s,g as e,d as C,t as b,n as M,r as V,B as L,C as I,f as R,p as F,b as _,w as j,D as U,E as A,u as N}from"./71iuM9A_.js";import{_ as D}from"./yl0kViZT.js";import{u as O}from"./DHwmbQvi.js";const H={class:"w-full"},G=["for"],J={key:0,class:"text-error ml-1"},K={class:"relative"},Q=["id","type","value","placeholder","disabled","required"],W={key:0,class:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none"},X={key:1,class:"mt-1"},Y={key:0,class:"text-sm text-error"},Z={key:1,class:"text-sm text-text-tertiary"},ee=E({__name:"Input",props:{modelValue:{},type:{default:"text"},label:{},placeholder:{},helperText:{},errorMessage:{},disabled:{type:Boolean,default:!1},required:{type:Boolean,default:!1},size:{default:"md"}},emits:["update:modelValue","blur","focus"],setup(t,{emit:$}){const h=t,u=$,v=T(()=>`input-${Math.random().toString(36).substr(2,9)}`),d=T(()=>!!h.errorMessage),x=i=>{const n=i.target,r=h.type==="number"?Number(n.value):n.value;u("update:modelValue",r)},w=i=>{u("blur",i)},c=i=>{u("focus",i)},k=T(()=>{const i=["block w-full rounded-lg border transition-colors duration-200","focus:outline-none focus:ring-2 focus:ring-offset-1","placeholder:text-text-tertiary"],n={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-4 py-3 text-lg"},r=d.value?"border-error text-error focus:border-error focus:ring-error":"border-border-default text-text-primary focus:border-primary-300 focus:ring-primary-300",p=h.disabled?"bg-background-tertiary text-text-tertiary cursor-not-allowed opacity-50":"bg-background-primary hover:border-border-dark";return[...i,n[h.size],r,p].filter(Boolean).join(" ")});return(i,n)=>(a(),o("div",H,[t.label?(a(),o("label",{key:0,for:e(v),class:"block text-sm font-medium text-text-primary mb-1"},[C(b(t.label)+" ",1),t.required?(a(),o("span",J,"*")):m("",!0)],8,G)):m("",!0),s("div",K,[s("input",{id:e(v),type:t.type,value:t.modelValue,placeholder:t.placeholder,disabled:t.disabled,required:t.required,class:M(e(k)),onInput:x,onBlur:w,onFocus:c},null,42,Q),e(d)?(a(),o("div",W,[...n[0]||(n[0]=[s("svg",{class:"h-5 w-5 text-error",fill:"currentColor",viewBox:"0 0 20 20"},[s("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"})],-1)])])):m("",!0)]),t.helperText||t.errorMessage?(a(),o("div",X,[t.errorMessage?(a(),o("p",Y,b(t.errorMessage),1)):t.helperText?(a(),o("p",Z,b(t.helperText),1)):m("",!0)])):m("",!0)]))}}),te=Object.assign(ee,{__name:"Input"}),re={class:"w-full"},se=["for"],oe={key:0,class:"text-error ml-1"},ae={class:"relative"},le=["id","type","value","placeholder","disabled","required"],ne={key:0,class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ie={key:1,class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},de={key:0,class:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none"},ue={key:1,class:"mt-1"},ce={key:0,class:"text-sm text-error"},me={key:1,class:"text-sm text-text-tertiary"},pe=E({__name:"PasswordInput",props:{modelValue:{},label:{default:""},placeholder:{default:""},helperText:{default:""},errorMessage:{default:""},disabled:{type:Boolean,default:!1},required:{type:Boolean,default:!1},id:{default:""}},emits:["update:modelValue","blur","focus"],setup(t,{emit:$}){const h=t,u=$,v=V(!1),d=V(!1),x=T(()=>h.id||`password-input-${Math.random().toString(36).substr(2,9)}`),w=T(()=>!!h.errorMessage),c=T(()=>{const p=["w-full","px-3","py-2.5","pr-10","border","rounded-lg","text-text-primary","placeholder-text-tertiary","focus:outline-none","focus:ring-2","transition-all","duration-200"];return w.value?p.push("border-error","focus:border-error","focus:ring-error/20"):d.value?p.push("border-primary-300","focus:border-primary-300","focus:ring-primary-300/20"):p.push("border-border-light","focus:border-primary-300","focus:ring-primary-300/20"),h.disabled?p.push("bg-background-tertiary","text-text-tertiary","cursor-not-allowed"):p.push("bg-background-primary"),p.join(" ")}),k=()=>{v.value=!v.value},i=p=>{const y=p.target;u("update:modelValue",y.value)},n=()=>{d.value=!1,u("blur")},r=()=>{d.value=!0,u("focus")};return(p,y)=>(a(),o("div",re,[t.label?(a(),o("label",{key:0,for:e(x),class:"block text-sm font-medium text-text-primary mb-1"},[C(b(t.label)+" ",1),t.required?(a(),o("span",oe,"*")):m("",!0)],8,se)):m("",!0),s("div",ae,[s("input",{id:e(x),type:e(v)?"text":"password",value:t.modelValue,placeholder:t.placeholder,disabled:t.disabled,required:t.required,class:M(e(c)),onInput:i,onBlur:n,onFocus:r},null,42,le),s("button",{type:"button",onClick:k,class:M(["absolute inset-y-0 right-0 pr-3 flex items-center text-text-tertiary hover:text-text-secondary transition-colors duration-200",{"pr-10":e(w)}])},[e(v)?(a(),o("svg",ne,[...y[0]||(y[0]=[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"},null,-1)])])):(a(),o("svg",ie,[...y[1]||(y[1]=[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},null,-1)])]))],2),e(w)?(a(),o("div",de,[...y[2]||(y[2]=[s("svg",{class:"h-5 w-5 text-error",fill:"currentColor",viewBox:"0 0 20 20"},[s("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"})],-1)])])):m("",!0)]),t.helperText||t.errorMessage?(a(),o("div",ue,[t.errorMessage?(a(),o("p",ce,b(t.errorMessage),1)):t.helperText?(a(),o("p",me,b(t.helperText),1)):m("",!0)])):m("",!0)]))}}),fe=Object.assign(pe,{__name:"PasswordInput"}),xe={class:"bg-background-primary rounded-xl shadow-custom-lg border border-border-light p-8 w-full max-w-md mx-auto"},ge={class:"text-center mb-8"},be={class:"text-text-secondary"},he={class:"flex mb-6 bg-background-secondary rounded-lg p-1"},ve={key:0,class:"text-sm text-error bg-error/10 p-3 rounded-lg border border-error/20"},ye={key:1,class:"text-sm text-green-600 bg-green-50 p-3 rounded-lg border border-green-200"},we={class:"flex items-start space-x-3 pt-2"},ke={key:0,class:"text-sm text-red-600 bg-red-50 p-3 rounded-lg border border-red-200"},_e={key:1,class:"text-sm text-green-600 bg-green-50 p-3 rounded-lg border border-green-200"},Ve=E({__name:"LoginForm",props:{initialTab:{default:"login"}},setup(t){const{login:$,register:h,loading:u}=O(),v=L(),d=V("login"),x=V(null),w=V(!1),c=V(null),k=V(!1),i=V(null),n=I({email:"",password:""}),r=I({email:"",password:"",confirmPassword:"",acceptTerms:!1}),p=async()=>{if(x.value=null,w.value=!1,!n.email||!n.password){x.value="Por favor, preencha todos os campos";return}if(!P(n.email)){x.value="Por favor, insira um email válido";return}try{const g=await $({email:n.email,password:n.password});g.success?(w.value=!0,setTimeout(()=>{v.push("/")},1e3)):x.value=g.error||"Erro ao fazer login"}catch{x.value="Erro inesperado. Tente novamente."}},y=async()=>{if(c.value=null,k.value=!1,i.value=null,!r.email||!r.password||!r.confirmPassword){c.value="Por favor, preencha todos os campos";return}if(!P(r.email)){c.value="Por favor, insira um email válido";return}if(r.password!==r.confirmPassword){c.value="As senhas não coincidem";return}if(r.password.length<6){c.value="A senha deve ter pelo menos 6 caracteres";return}if(!r.acceptTerms){c.value="Você deve aceitar os termos e condições";return}try{const g=await h({email:r.email,password:r.password,confirmPassword:r.confirmPassword});g.success?(k.value=!0,i.value=g.message||"Conta criada com sucesso!",g.message?.includes("Conta criada com sucesso!")?setTimeout(()=>{v.push("/")},2e3):setTimeout(()=>{r.email="",r.password="",r.confirmPassword="",r.acceptTerms=!1,k.value=!1,i.value=null,d.value="login"},4e3)):c.value=g.error||"Erro ao criar conta"}catch{c.value="Erro inesperado. Tente novamente."}},P=g=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(g),S=t;return R(()=>{d.value=S.initialTab}),(g,l)=>{const q=te,B=fe,z=D;return a(),o("div",xe,[s("div",ge,[l[8]||(l[8]=s("h1",{class:"text-3xl font-bold text-text-primary mb-2"},[C(" Tarini "),s("span",{class:"text-primary-300"},"Cadastro")],-1)),s("p",be,b(e(d)==="login"?"Entre com suas credenciais de acesso":"Crie suas credenciais de acesso"),1)]),s("div",he,[s("button",{onClick:l[0]||(l[0]=f=>d.value="login"),class:M(["flex-1 py-2 px-4 rounded-md text-sm font-medium transition-all duration-200",e(d)==="login"?"bg-background-primary text-text-primary shadow-sm":"text-text-secondary hover:text-text-primary"])}," Entrar ",2),s("button",{onClick:l[1]||(l[1]=f=>d.value="register"),class:M(["flex-1 py-2 px-4 rounded-md text-sm font-medium transition-all duration-200",e(d)==="register"?"bg-background-primary text-text-primary shadow-sm":"text-text-secondary hover:text-text-primary"])}," Registrar-se ",2)]),e(d)==="login"?(a(),o("form",{key:0,onSubmit:F(p,["prevent"]),class:"space-y-4"},[_(q,{modelValue:e(n).email,"onUpdate:modelValue":l[2]||(l[2]=f=>e(n).email=f),type:"email",label:"E-mail",placeholder:"exemplo@gmail.com",required:!0},null,8,["modelValue"]),_(B,{modelValue:e(n).password,"onUpdate:modelValue":l[3]||(l[3]=f=>e(n).password=f),label:"Senha",placeholder:"••••••••",required:!0},null,8,["modelValue"]),e(x)?(a(),o("div",ve,b(e(x)),1)):m("",!0),e(w)?(a(),o("div",ye," ✅ Login realizado com sucesso! Redirecionando... ")):m("",!0),l[9]||(l[9]=s("div",{class:"text-right"},[s("a",{href:"#",class:"text-sm text-primary-300 hover:text-primary-400 transition-colors duration-200"}," Esqueceu a senha? ")],-1)),_(z,{type:"submit",variant:"primary",size:"lg","full-width":!0,disabled:e(u),class:"mt-6"},{default:j(()=>[C(b(e(u)?"Entrando...":"Entrar"),1)]),_:1},8,["disabled"])],32)):(a(),o("form",{key:1,onSubmit:F(y,["prevent"]),class:"space-y-4"},[_(q,{modelValue:e(r).email,"onUpdate:modelValue":l[4]||(l[4]=f=>e(r).email=f),type:"email",label:"E-mail",placeholder:"exemplo@gmail.com",required:!0},null,8,["modelValue"]),_(B,{modelValue:e(r).password,"onUpdate:modelValue":l[5]||(l[5]=f=>e(r).password=f),label:"Senha",placeholder:"Insira sua senha",required:!0},null,8,["modelValue"]),_(B,{modelValue:e(r).confirmPassword,"onUpdate:modelValue":l[6]||(l[6]=f=>e(r).confirmPassword=f),label:"Confirmação de senha",placeholder:"Repita sua senha",required:!0},null,8,["modelValue"]),s("div",we,[U(s("input",{id:"terms","onUpdate:modelValue":l[7]||(l[7]=f=>e(r).acceptTerms=f),type:"checkbox",class:"mt-1 h-4 w-4 text-primary-300 border-border-light rounded focus:ring-primary-300 focus:ring-2"},null,512),[[A,e(r).acceptTerms]]),l[10]||(l[10]=s("label",{for:"terms",class:"text-sm text-text-secondary"},[C(" Ao criar sua conta, você concorda em cumprir estes "),s("a",{href:"#",class:"text-primary-300 hover:text-primary-400 underline"}," Termos e compromissos "),C(". ")],-1))]),e(c)?(a(),o("div",ke," ❌ "+b(e(c)),1)):m("",!0),e(k)&&e(i)?(a(),o("div",_e," ✅ "+b(e(i)),1)):m("",!0),_(z,{type:"submit",variant:"primary",size:"lg","full-width":!0,disabled:!e(r).acceptTerms||e(u),class:"mt-6"},{default:j(()=>[C(b(e(u)?"Criando Conta...":"Criar Minha Conta"),1)]),_:1},8,["disabled"])],32))])}}}),Ce=Object.assign(Ve,{__name:"LoginForm"}),$e={class:"min-h-screen bg-background-secondary flex items-center justify-center p-4"},Ee={__name:"login",setup(t){return N({title:"Login - Tarini Cadastro",meta:[{name:"description",content:"Faça login ou registre-se no Tarini Cadastro"}]}),($,h)=>{const u=Ce;return a(),o("div",$e,[_(u)])}}};export{Ee as default};
